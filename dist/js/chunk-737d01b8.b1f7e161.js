(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-737d01b8","chunk-6a468c8a"],{"057f":function(e,t,r){var a=r("fc6a"),n=r("241c").f,s={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],i=function(e){try{return n(e)}catch(t){return o.slice()}};e.exports.f=function(e){return o&&"[object Window]"==s.call(e)?i(e):n(a(e))}},1148:function(e,t,r){"use strict";var a=r("a691"),n=r("1d80");e.exports="".repeat||function(e){var t=String(n(this)),r="",s=a(e);if(s<0||s==1/0)throw RangeError("Wrong number of repetitions");for(;s>0;(s>>>=1)&&(t+=t))1&s&&(r+=t);return r}},1276:function(e,t,r){"use strict";var a=r("d784"),n=r("44e7"),s=r("825a"),o=r("1d80"),i=r("4840"),c=r("8aa5"),l=r("50c4"),u=r("14c3"),d=r("9263"),f=r("d039"),h=[].push,p=Math.min,m=4294967295,g=!f((function(){return!RegExp(m,"y")}));a("split",2,(function(e,t,r){var a;return a="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,r){var a=String(o(this)),s=void 0===r?m:r>>>0;if(0===s)return[];if(void 0===e)return[a];if(!n(e))return t.call(a,e,s);var i,c,l,u=[],f=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),p=0,g=new RegExp(e.source,f+"g");while(i=d.call(g,a)){if(c=g.lastIndex,c>p&&(u.push(a.slice(p,i.index)),i.length>1&&i.index<a.length&&h.apply(u,i.slice(1)),l=i[0].length,p=c,u.length>=s))break;g.lastIndex===i.index&&g.lastIndex++}return p===a.length?!l&&g.test("")||u.push(""):u.push(a.slice(p)),u.length>s?u.slice(0,s):u}:"0".split(void 0,0).length?function(e,r){return void 0===e&&0===r?[]:t.call(this,e,r)}:t,[function(t,r){var n=o(this),s=void 0==t?void 0:t[e];return void 0!==s?s.call(t,n,r):a.call(String(n),t,r)},function(e,n){var o=r(a,e,this,n,a!==t);if(o.done)return o.value;var d=s(e),f=String(this),h=i(d,RegExp),v=d.unicode,y=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(g?"y":"g"),x=new h(g?d:"^(?:"+d.source+")",y),b=void 0===n?m:n>>>0;if(0===b)return[];if(0===f.length)return null===u(x,f)?[f]:[];var w=0,I=0,T=[];while(I<f.length){x.lastIndex=g?I:0;var D,R=u(x,g?f:f.slice(I));if(null===R||(D=p(l(x.lastIndex+(g?0:I)),f.length))===w)I=c(f,I,v);else{if(T.push(f.slice(w,I)),T.length===b)return T;for(var S=1;S<=R.length-1;S++)if(T.push(R[S]),T.length===b)return T;I=w=D}}return T.push(f.slice(w)),T}]}),!g)},"13d5":function(e,t,r){"use strict";var a=r("23e7"),n=r("d58f").left,s=r("a640"),o=r("ae40"),i=r("2d00"),c=r("605d"),l=s("reduce"),u=o("reduce",{1:0}),d=!c&&i>79&&i<83;a({target:"Array",proto:!0,forced:!l||!u||d},{reduce:function(e){return n(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(e,t,r){var a=r("c6b6"),n=r("9263");e.exports=function(e,t){var r=e.exec;if("function"===typeof r){var s=r.call(e,t);if("object"!==typeof s)throw TypeError("RegExp exec method returned something other than an Object or null");return s}if("RegExp"!==a(e))throw TypeError("RegExp#exec called on incompatible receiver");return n.call(e,t)}},"159b":function(e,t,r){var a=r("da84"),n=r("fdbc"),s=r("17c2"),o=r("9112");for(var i in n){var c=a[i],l=c&&c.prototype;if(l&&l.forEach!==s)try{o(l,"forEach",s)}catch(u){l.forEach=s}}},"17c2":function(e,t,r){"use strict";var a=r("b727").forEach,n=r("a640"),s=r("ae40"),o=n("forEach"),i=s("forEach");e.exports=o&&i?[].forEach:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}},"1c57":function(e,t,r){"use strict";var a=r("dedb"),n=r.n(a);n.a},"2a7f":function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var a=r("71d9"),n=r("80d2");const s=Object(n["h"])("v-toolbar__title"),o=Object(n["h"])("v-toolbar__items");a["a"]},"2bfd":function(e,t,r){},"2fa4":function(e,t,r){"use strict";r("20f6");var a=r("80d2");t["a"]=Object(a["h"])("spacer","div","v-spacer")},"3ca3":function(e,t,r){"use strict";var a=r("6547").charAt,n=r("69f3"),s=r("7dd0"),o="String Iterator",i=n.set,c=n.getterFor(o);s(String,"String",(function(e){i(this,{type:o,string:String(e),index:0})}),(function(){var e,t=c(this),r=t.string,n=t.index;return n>=r.length?{value:void 0,done:!0}:(e=a(r,n),t.index+=e.length,{value:e,done:!1})}))},"408a":function(e,t,r){var a=r("c6b6");e.exports=function(e){if("number"!=typeof e&&"Number"!=a(e))throw TypeError("Incorrect invocation");return+e}},4160:function(e,t,r){"use strict";var a=r("23e7"),n=r("17c2");a({target:"Array",proto:!0,forced:[].forEach!=n},{forEach:n})},"45fc":function(e,t,r){"use strict";var a=r("23e7"),n=r("b727").some,s=r("a640"),o=r("ae40"),i=s("some"),c=o("some");a({target:"Array",proto:!0,forced:!i||!c},{some:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},"4de4":function(e,t,r){"use strict";var a=r("23e7"),n=r("b727").filter,s=r("1dde"),o=r("ae40"),i=s("filter"),c=o("filter");a({target:"Array",proto:!0,forced:!i||!c},{filter:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(e,t,r){"use strict";var a=r("0366"),n=r("7b0b"),s=r("9bdd"),o=r("e95a"),i=r("50c4"),c=r("8418"),l=r("35a1");e.exports=function(e){var t,r,u,d,f,h,p=n(e),m="function"==typeof this?this:Array,g=arguments.length,v=g>1?arguments[1]:void 0,y=void 0!==v,x=l(p),b=0;if(y&&(v=a(v,g>2?arguments[2]:void 0,2)),void 0==x||m==Array&&o(x))for(t=i(p.length),r=new m(t);t>b;b++)h=y?v(p[b],b):p[b],c(r,b,h);else for(d=x.call(p),f=d.next,r=new m;!(u=f.call(d)).done;b++)h=y?s(d,v,[u.value,b],!0):u.value,c(r,b,h);return r.length=b,r}},"5cc1":function(e,t,r){},6062:function(e,t,r){"use strict";var a=r("6d61"),n=r("6566");e.exports=a("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n)},"635f":function(e,t,r){},6547:function(e,t,r){var a=r("a691"),n=r("1d80"),s=function(e){return function(t,r){var s,o,i=String(n(t)),c=a(r),l=i.length;return c<0||c>=l?e?"":void 0:(s=i.charCodeAt(c),s<55296||s>56319||c+1===l||(o=i.charCodeAt(c+1))<56320||o>57343?e?i.charAt(c):s:e?i.slice(c,c+2):o-56320+(s-55296<<10)+65536)}};e.exports={codeAt:s(!1),charAt:s(!0)}},6566:function(e,t,r){"use strict";var a=r("9bf2").f,n=r("7c73"),s=r("e2cc"),o=r("0366"),i=r("19aa"),c=r("2266"),l=r("7dd0"),u=r("2626"),d=r("83ab"),f=r("f183").fastKey,h=r("69f3"),p=h.set,m=h.getterFor;e.exports={getConstructor:function(e,t,r,l){var u=e((function(e,a){i(e,u,t),p(e,{type:t,index:n(null),first:void 0,last:void 0,size:0}),d||(e.size=0),void 0!=a&&c(a,e[l],{that:e,AS_ENTRIES:r})})),h=m(t),g=function(e,t,r){var a,n,s=h(e),o=v(e,t);return o?o.value=r:(s.last=o={index:n=f(t,!0),key:t,value:r,previous:a=s.last,next:void 0,removed:!1},s.first||(s.first=o),a&&(a.next=o),d?s.size++:e.size++,"F"!==n&&(s.index[n]=o)),e},v=function(e,t){var r,a=h(e),n=f(t);if("F"!==n)return a.index[n];for(r=a.first;r;r=r.next)if(r.key==t)return r};return s(u.prototype,{clear:function(){var e=this,t=h(e),r=t.index,a=t.first;while(a)a.removed=!0,a.previous&&(a.previous=a.previous.next=void 0),delete r[a.index],a=a.next;t.first=t.last=void 0,d?t.size=0:e.size=0},delete:function(e){var t=this,r=h(t),a=v(t,e);if(a){var n=a.next,s=a.previous;delete r.index[a.index],a.removed=!0,s&&(s.next=n),n&&(n.previous=s),r.first==a&&(r.first=n),r.last==a&&(r.last=s),d?r.size--:t.size--}return!!a},forEach:function(e){var t,r=h(this),a=o(e,arguments.length>1?arguments[1]:void 0,3);while(t=t?t.next:r.first){a(t.value,t.key,this);while(t&&t.removed)t=t.previous}},has:function(e){return!!v(this,e)}}),s(u.prototype,r?{get:function(e){var t=v(this,e);return t&&t.value},set:function(e,t){return g(this,0===e?0:e,t)}}:{add:function(e){return g(this,e=0===e?0:e,e)}}),d&&a(u.prototype,"size",{get:function(){return h(this).size}}),u},setStrong:function(e,t,r){var a=t+" Iterator",n=m(t),s=m(a);l(e,t,(function(e,t){p(this,{type:a,target:e,state:n(e),kind:t,last:void 0})}),(function(){var e=s(this),t=e.kind,r=e.last;while(r&&r.removed)r=r.previous;return e.target&&(e.last=r=r?r.next:e.state.first)?"keys"==t?{value:r.key,done:!1}:"values"==t?{value:r.value,done:!1}:{value:[r.key,r.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),r?"entries":"values",!r,!0),u(t)}}},"6bc0":function(e,t,r){"use strict";var a=r("7d70"),n=r.n(a);n.a},"6d61":function(e,t,r){"use strict";var a=r("23e7"),n=r("da84"),s=r("94ca"),o=r("6eeb"),i=r("f183"),c=r("2266"),l=r("19aa"),u=r("861d"),d=r("d039"),f=r("1c7e"),h=r("d44e"),p=r("7156");e.exports=function(e,t,r){var m=-1!==e.indexOf("Map"),g=-1!==e.indexOf("Weak"),v=m?"set":"add",y=n[e],x=y&&y.prototype,b=y,w={},I=function(e){var t=x[e];o(x,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(g&&!u(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return g&&!u(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(g&&!u(e))&&t.call(this,0===e?0:e)}:function(e,r){return t.call(this,0===e?0:e,r),this})};if(s(e,"function"!=typeof y||!(g||x.forEach&&!d((function(){(new y).entries().next()})))))b=r.getConstructor(t,e,m,v),i.REQUIRED=!0;else if(s(e,!0)){var T=new b,D=T[v](g?{}:-0,1)!=T,R=d((function(){T.has(1)})),S=f((function(e){new y(e)})),E=!g&&d((function(){var e=new y,t=5;while(t--)e[v](t,t);return!e.has(-0)}));S||(b=t((function(t,r){l(t,b,e);var a=p(new y,t,b);return void 0!=r&&c(r,a[v],{that:a,AS_ENTRIES:m}),a})),b.prototype=x,x.constructor=b),(R||E)&&(I("delete"),I("has"),m&&I("get")),(E||D)&&I(v),g&&x.clear&&delete x.clear}return w[e]=b,a({global:!0,forced:b!=y},w),h(b,e),g||r.setStrong(b,e,m),b}},7156:function(e,t,r){var a=r("861d"),n=r("d2bb");e.exports=function(e,t,r){var s,o;return n&&"function"==typeof(s=t.constructor)&&s!==r&&a(o=s.prototype)&&o!==r.prototype&&n(e,o),e}},"746f":function(e,t,r){var a=r("428f"),n=r("5135"),s=r("e538"),o=r("9bf2").f;e.exports=function(e){var t=a.Symbol||(a.Symbol={});n(t,e)||o(t,e,{value:s.f(e)})}},"7d70":function(e,t,r){},"7db0":function(e,t,r){"use strict";var a=r("23e7"),n=r("b727").find,s=r("44d2"),o=r("ae40"),i="find",c=!0,l=o(i);i in[]&&Array(1)[i]((function(){c=!1})),a({target:"Array",proto:!0,forced:c||!l},{find:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),s(i)},8418:function(e,t,r){"use strict";var a=r("c04e"),n=r("9bf2"),s=r("5c6c");e.exports=function(e,t,r){var o=a(t);o in e?n.f(e,o,s(0,r)):e[o]=r}},"87cf":function(e,t,r){"use strict";r("4de4"),r("7db0"),r("4160"),r("a15b"),r("d81d"),r("159b"),r("96cf");var a=r("1da1"),n=r("1146"),s=r.n(n),o=r("bc3a"),i=r.n(o);t["a"]={name:"excelMixin",data:function(){return{localMossadId:null,allEmpsInfo:[],codeDescription:[],empsHours:[],dataToExport:[]}},methods:{createWeeklyHoursToMossad:function(e,t,r){var n=this;return Object(a["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,n.getCodesDescription();case 2:return a.next=4,n.getAllEmpInfo(e,t,r);case 4:return a.next=6,n.getAllEmpHours(e,t,r);case 6:return a.next=8,n.setWeeklyHoursAndExport(e);case 8:n.dataToExport=[],n.allEmpsInfo=[],n.empsHours=[];case 11:case"end":return a.stop()}}),a)})))()},createWeeklyHoursToEmployee:function(e,t,r,n){var s=this;return Object(a["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,s.getCodesDescription();case 2:return a.next=4,s.getEmpInfo(e,t,r,n);case 4:return a.next=6,s.getEmpHours(e,t,r,n);case 6:return a.next=8,s.setWeeklyHoursAndExport(t);case 8:s.dataToExport=[],s.allEmpsInfo=[],s.empsHours=[];case 11:case"end":return a.stop()}}),a)})))()},setWeeklyHoursAndExport:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a="",r.next=3,i.a.get("/mossadot/byId",{params:{mossadId:e}}).then((function(e){a=e.data.mossadName})).catch((function(e){return t.$store.dispatch("displayErrorMessage",{error:e})}));case 3:t.allEmpsInfo.forEach((function(r){t.setExistHours(r,t.empsHours.filter((function(e){return e.empId==r.empId})),e,a)})),t.setDataForDisplay(t.dataToExport),t.downloadFile(t.dataToExport,t.getWeeklyHoursHeaders(),"מצבת שעות.xlsx","מערכת שעות פרונטליות");case 6:case"end":return r.stop()}}),r)})))()},getEmpHours:function(e,t,r,n){var s=this;return Object(a["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,i.a.get("/teacherEmploymentDetails/byMossad",{params:{empId:e,mossadId:t,begda:r,endda:n}}).then((function(e){s.empsHours=e.data})).catch((function(e){return s.$store.dispatch("displayErrorMessage",{error:e})}));case 2:case"end":return a.stop()}}),a)})))()},getEmpInfo:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,i.a.get("/employees/byId",{params:{empId:e}}).then((function(e){t.allEmpsInfo.push(e.data)})).catch((function(e){return t.$store.dispatch("displayErrorMessage",{error:e})}));case 2:case"end":return r.stop()}}),r)})))()},getAllEmpInfo:function(e,t,r){var n=this;return Object(a["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,i.a.get("/employees/byMossad",{params:{mossadId:e,begda:t,endda:r}}).then((function(e){n.allEmpsInfo=e.data})).catch((function(e){return n.$store.dispatch("displayErrorMessage",{error:e})}));case 2:case"end":return a.stop()}}),a)})))()},getAllEmpHours:function(e,t,r){var n=this;return Object(a["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,i.a.get("/teacherEmploymentDetails/allByMossad",{params:{mossadId:e,begda:t,endda:r}}).then((function(e){n.empsHours=e.data})).catch((function(e){return n.$store.dispatch("displayErrorMessage",{error:e})}));case 2:case"end":return a.stop()}}),a)})))()},getCodesDescription:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i.a.get("/convertHours/all").then((function(t){e.codeDescription=t.data})).catch((function(t){return e.$store.dispatch("displayErrorMessage",{error:t})}));case 2:case"end":return t.stop()}}),t)})))()},downloadDemoFile:function(){var e=[];this.downloadFile(e,this.getWeeklyHoursHeaders(),"מצבת שעות.xlsx","מערכת שעות פרונטליות")},downloadFile:function(e,t,r,a){var n=e;n.unshift(t);var o=s.a.utils.json_to_sheet(n,{skipHeader:!0,Views:[{RTL:!0}]}),i=s.a.utils.book_new();s.a.utils.book_append_sheet(i,o,a),this.set_right_to_left(i),s.a.writeFile(i,r)},set_right_to_left:function(e){e.Workbook||(e.Workbook={}),e.Workbook.Views||(e.Workbook.Views=[]),e.Workbook.Views[0]||(e.Workbook.Views[0]={},e.Workbook.Views[0].RTL=!0)},setExistHours:function(e,t,r,a){var n=this,s={},o=[];t.forEach((function(t){void 0==o.find((function(e){return e.code==t.empCode&&e.begda==t.begda&&e.endda==t.endda}))&&(s={empId:e.empId,lastName:e.lastName,firstName:e.firstName,ageHours:n.getAgeHours(e.birthDate),isMother:n.getIsMother(e.mother),code:t.empCode,codeDescription:n.codeDescription.find((function(e){return e.code==t.empCode})).codeDescription,mossadId:r+"100",mossadName:a,begda:t.begda,endda:t.endda,Sunday:0,Monday:0,Tuesday:0,Wednesday:0,Thursday:0,Friday:0,totalHours:0,reformType:n.getReformType(t.empCode),systemMessages:""},o.push(s)),n.setHoursInDay(o.find((function(e){return e.code==t.empCode&&e.begda==t.begda&&e.endda==t.endda})),t.day,t.hours)})),this.dataToExport.push.apply(this.dataToExport,o)},sortWeeklyhoursTable:function(e){e.sort((function(e,t){return e.empCode-t.empCode}))},getWeeklyHoursHeaders:function(){var e={empId:"מספר עובד",lastName:"שם משפחה",firstName:"שם פרטי",ageHours:"שעות גיל",isMother:"מורה אם",code:"פיצול",codeDescription:"תאור פיצול",mossadId:"מוסד",mossadName:"שם מוסד",begda:"מתאריך",endda:"עד תאריך",Sunday:"א'",Monday:"ב'",Tuesday:"ג'",Wednesday:"ד",Thursday:"ה'",Friday:"ו'",totalHours:'סה"כ שעות פרונטליות',reformType:"רפורמה",systemMessages:"הערות מערכת"};return e},setDataForDisplay:function(e){var t=this;e.forEach((function(e){e.begda=t.formattedDate(e.begda),e.endda=t.formattedDate(e.endda)}))},setHoursInDay:function(e,t,r){0==t?e.Sunday+=r:1==t?e.Monday+=r:2==t?e.Tuesday+=r:3==t?e.Wednesday+=r:4==t?e.Thursday+=r:5==t&&(e.Friday+=r),e.totalHours+=r},formattedDate:function(e){var t=new Date(e);return[t.getDate(),t.getMonth()+1,t.getFullYear()].map((function(e){return e<10?"0".concat(e):"".concat(e)})).join("/")},fromatGenderText:function(e){return"F"==e?"נקבה":"זכר"},formatMotherType:function(e){return 1==e?"כן":"לא"},getIsMother:function(e){return"לא"==e?0:1},getAgeHours:function(e){var t=new Date(e),r=new Date,a=new Date(r.getFullYear(),8,1);r.getUTCMonth()>8&&a.setFullYear(a.getFullYear()+1);var n=a.getFullYear()-t.getFullYear();return n<50?0:n>55?4:2},getReformType:function(e){this.codeDescription.find((function(t){return t.code==e}));return"TODO"}}}},"8aa5":function(e,t,r){"use strict";var a=r("6547").charAt;e.exports=function(e,t,r){return t+(r?a(e,t).length:1)}},9263:function(e,t,r){"use strict";var a=r("ad6d"),n=r("9f7f"),s=RegExp.prototype.exec,o=String.prototype.replace,i=s,c=function(){var e=/a/,t=/b*/g;return s.call(e,"a"),s.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),l=n.UNSUPPORTED_Y||n.BROKEN_CARET,u=void 0!==/()??/.exec("")[1],d=c||u||l;d&&(i=function(e){var t,r,n,i,d=this,f=l&&d.sticky,h=a.call(d),p=d.source,m=0,g=e;return f&&(h=h.replace("y",""),-1===h.indexOf("g")&&(h+="g"),g=String(e).slice(d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==e[d.lastIndex-1])&&(p="(?: "+p+")",g=" "+g,m++),r=new RegExp("^(?:"+p+")",h)),u&&(r=new RegExp("^"+p+"$(?!\\s)",h)),c&&(t=d.lastIndex),n=s.call(f?r:d,g),f?n?(n.input=n.input.slice(m),n[0]=n[0].slice(m),n.index=d.lastIndex,d.lastIndex+=n[0].length):d.lastIndex=0:c&&n&&(d.lastIndex=d.global?n.index+n[0].length:t),u&&n&&n.length>1&&o.call(n[0],r,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(n[i]=void 0)})),n}),e.exports=i},9298:function(e,t,r){"use strict";var a=r("5cc1"),n=r.n(a);n.a},"9bdd":function(e,t,r){var a=r("825a"),n=r("2a62");e.exports=function(e,t,r,s){try{return s?t(a(r)[0],r[1]):t(r)}catch(o){throw n(e),o}}},"9f7f":function(e,t,r){"use strict";var a=r("d039");function n(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=a((function(){var e=n("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=a((function(){var e=n("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},a15b:function(e,t,r){"use strict";var a=r("23e7"),n=r("44ad"),s=r("fc6a"),o=r("a640"),i=[].join,c=n!=Object,l=o("join",",");a({target:"Array",proto:!0,forced:c||!l},{join:function(e){return i.call(s(this),void 0===e?",":e)}})},a4d3:function(e,t,r){"use strict";var a=r("23e7"),n=r("da84"),s=r("d066"),o=r("c430"),i=r("83ab"),c=r("4930"),l=r("fdbf"),u=r("d039"),d=r("5135"),f=r("e8b5"),h=r("861d"),p=r("825a"),m=r("7b0b"),g=r("fc6a"),v=r("c04e"),y=r("5c6c"),x=r("7c73"),b=r("df75"),w=r("241c"),I=r("057f"),T=r("7418"),D=r("06cf"),R=r("9bf2"),S=r("d1e7"),E=r("9112"),k=r("6eeb"),N=r("5692"),M=r("f772"),C=r("d012"),$=r("90e3"),Y=r("b622"),F=r("e538"),O=r("746f"),_=r("d44e"),A=r("69f3"),V=r("b727").forEach,j=M("hidden"),H="Symbol",L="prototype",P=Y("toPrimitive"),z=A.set,W=A.getterFor(H),G=Object[L],B=n.Symbol,U=s("JSON","stringify"),J=D.f,K=R.f,q=I.f,Q=S.f,X=N("symbols"),Z=N("op-symbols"),ee=N("string-to-symbol-registry"),te=N("symbol-to-string-registry"),re=N("wks"),ae=n.QObject,ne=!ae||!ae[L]||!ae[L].findChild,se=i&&u((function(){return 7!=x(K({},"a",{get:function(){return K(this,"a",{value:7}).a}})).a}))?function(e,t,r){var a=J(G,t);a&&delete G[t],K(e,t,r),a&&e!==G&&K(G,t,a)}:K,oe=function(e,t){var r=X[e]=x(B[L]);return z(r,{type:H,tag:e,description:t}),i||(r.description=t),r},ie=l?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof B},ce=function(e,t,r){e===G&&ce(Z,t,r),p(e);var a=v(t,!0);return p(r),d(X,a)?(r.enumerable?(d(e,j)&&e[j][a]&&(e[j][a]=!1),r=x(r,{enumerable:y(0,!1)})):(d(e,j)||K(e,j,y(1,{})),e[j][a]=!0),se(e,a,r)):K(e,a,r)},le=function(e,t){p(e);var r=g(t),a=b(r).concat(pe(r));return V(a,(function(t){i&&!de.call(r,t)||ce(e,t,r[t])})),e},ue=function(e,t){return void 0===t?x(e):le(x(e),t)},de=function(e){var t=v(e,!0),r=Q.call(this,t);return!(this===G&&d(X,t)&&!d(Z,t))&&(!(r||!d(this,t)||!d(X,t)||d(this,j)&&this[j][t])||r)},fe=function(e,t){var r=g(e),a=v(t,!0);if(r!==G||!d(X,a)||d(Z,a)){var n=J(r,a);return!n||!d(X,a)||d(r,j)&&r[j][a]||(n.enumerable=!0),n}},he=function(e){var t=q(g(e)),r=[];return V(t,(function(e){d(X,e)||d(C,e)||r.push(e)})),r},pe=function(e){var t=e===G,r=q(t?Z:g(e)),a=[];return V(r,(function(e){!d(X,e)||t&&!d(G,e)||a.push(X[e])})),a};if(c||(B=function(){if(this instanceof B)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=$(e),r=function(e){this===G&&r.call(Z,e),d(this,j)&&d(this[j],t)&&(this[j][t]=!1),se(this,t,y(1,e))};return i&&ne&&se(G,t,{configurable:!0,set:r}),oe(t,e)},k(B[L],"toString",(function(){return W(this).tag})),k(B,"withoutSetter",(function(e){return oe($(e),e)})),S.f=de,R.f=ce,D.f=fe,w.f=I.f=he,T.f=pe,F.f=function(e){return oe(Y(e),e)},i&&(K(B[L],"description",{configurable:!0,get:function(){return W(this).description}}),o||k(G,"propertyIsEnumerable",de,{unsafe:!0}))),a({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:B}),V(b(re),(function(e){O(e)})),a({target:H,stat:!0,forced:!c},{for:function(e){var t=String(e);if(d(ee,t))return ee[t];var r=B(t);return ee[t]=r,te[r]=t,r},keyFor:function(e){if(!ie(e))throw TypeError(e+" is not a symbol");if(d(te,e))return te[e]},useSetter:function(){ne=!0},useSimple:function(){ne=!1}}),a({target:"Object",stat:!0,forced:!c,sham:!i},{create:ue,defineProperty:ce,defineProperties:le,getOwnPropertyDescriptor:fe}),a({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:he,getOwnPropertySymbols:pe}),a({target:"Object",stat:!0,forced:u((function(){T.f(1)}))},{getOwnPropertySymbols:function(e){return T.f(m(e))}}),U){var me=!c||u((function(){var e=B();return"[null]"!=U([e])||"{}"!=U({a:e})||"{}"!=U(Object(e))}));a({target:"JSON",stat:!0,forced:me},{stringify:function(e,t,r){var a,n=[e],s=1;while(arguments.length>s)n.push(arguments[s++]);if(a=t,(h(t)||void 0!==e)&&!ie(e))return f(t)||(t=function(e,t){if("function"==typeof a&&(t=a.call(this,e,t)),!ie(t))return t}),n[1]=t,U.apply(null,n)}})}B[L][P]||E(B[L],P,B[L].valueOf),_(B,H),C[j]=!0},a630:function(e,t,r){var a=r("23e7"),n=r("4df4"),s=r("1c7e"),o=!s((function(e){Array.from(e)}));a({target:"Array",stat:!0,forced:o},{from:n})},a7c9:function(e,t,r){"use strict";var a=r("635f"),n=r.n(a);n.a},ac1f:function(e,t,r){"use strict";var a=r("23e7"),n=r("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==n},{exec:n})},ad6d:function(e,t,r){"use strict";var a=r("825a");e.exports=function(){var e=a(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},b680:function(e,t,r){"use strict";var a=r("23e7"),n=r("a691"),s=r("408a"),o=r("1148"),i=r("d039"),c=1..toFixed,l=Math.floor,u=function(e,t,r){return 0===t?r:t%2===1?u(e,t-1,r*e):u(e*e,t/2,r)},d=function(e){var t=0,r=e;while(r>=4096)t+=12,r/=4096;while(r>=2)t+=1,r/=2;return t},f=c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!i((function(){c.call({})}));a({target:"Number",proto:!0,forced:f},{toFixed:function(e){var t,r,a,i,c=s(this),f=n(e),h=[0,0,0,0,0,0],p="",m="0",g=function(e,t){var r=-1,a=t;while(++r<6)a+=e*h[r],h[r]=a%1e7,a=l(a/1e7)},v=function(e){var t=6,r=0;while(--t>=0)r+=h[t],h[t]=l(r/e),r=r%e*1e7},y=function(){var e=6,t="";while(--e>=0)if(""!==t||0===e||0!==h[e]){var r=String(h[e]);t=""===t?r:t+o.call("0",7-r.length)+r}return t};if(f<0||f>20)throw RangeError("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(p="-",c=-c),c>1e-21)if(t=d(c*u(2,69,1))-69,r=t<0?c*u(2,-t,1):c/u(2,t,1),r*=4503599627370496,t=52-t,t>0){g(0,r),a=f;while(a>=7)g(1e7,0),a-=7;g(u(10,a,1),0),a=t-1;while(a>=23)v(1<<23),a-=23;v(1<<a),g(1,1),v(2),m=y()}else g(0,r),g(1<<-t,0),m=y()+o.call("0",f);return f>0?(i=m.length,m=p+(i<=f?"0."+o.call("0",f-i)+m:m.slice(0,i-f)+"."+m.slice(i-f))):m=p+m,m}})},bb2f:function(e,t,r){var a=r("d039");e.exports=!a((function(){return Object.isExtensible(Object.preventExtensions({}))}))},c6a6:function(e,t,r){"use strict";r("2bfd");var a=r("b974"),n=r("8654"),s=r("d9f7"),o=r("80d2");const i={...a["b"],offsetY:!0,offsetOverflow:!0,transition:!1};t["a"]=a["a"].extend({name:"v-autocomplete",props:{allowOverflow:{type:Boolean,default:!0},autoSelectFirst:{type:Boolean,default:!1},filter:{type:Function,default:(e,t,r)=>r.toLocaleLowerCase().indexOf(t.toLocaleLowerCase())>-1},hideNoData:Boolean,menuProps:{type:a["a"].options.props.menuProps.type,default:()=>i},noFilter:Boolean,searchInput:{type:String}},data(){return{lazySearch:this.searchInput}},computed:{classes(){return{...a["a"].options.computed.classes.call(this),"v-autocomplete":!0,"v-autocomplete--is-selecting-index":this.selectedIndex>-1}},computedItems(){return this.filteredItems},selectedValues(){return this.selectedItems.map(e=>this.getValue(e))},hasDisplayedItems(){return this.hideSelected?this.filteredItems.some(e=>!this.hasItem(e)):this.filteredItems.length>0},currentRange(){return null==this.selectedItem?0:String(this.getText(this.selectedItem)).length},filteredItems(){return!this.isSearching||this.noFilter||null==this.internalSearch?this.allItems:this.allItems.filter(e=>{const t=Object(o["q"])(e,this.itemText),r=null!=t?String(t):"";return this.filter(e,String(this.internalSearch),r)})},internalSearch:{get(){return this.lazySearch},set(e){this.lazySearch=e,this.$emit("update:search-input",e)}},isAnyValueAllowed(){return!1},isDirty(){return this.searchIsDirty||this.selectedItems.length>0},isSearching(){return this.multiple&&this.searchIsDirty||this.searchIsDirty&&this.internalSearch!==this.getText(this.selectedItem)},menuCanShow(){return!!this.isFocused&&(this.hasDisplayedItems||!this.hideNoData)},$_menuProps(){const e=a["a"].options.computed.$_menuProps.call(this);return e.contentClass=("v-autocomplete__content "+(e.contentClass||"")).trim(),{...i,...e}},searchIsDirty(){return null!=this.internalSearch},selectedItem(){return this.multiple?null:this.selectedItems.find(e=>this.valueComparator(this.getValue(e),this.getValue(this.internalValue)))},listData(){const e=a["a"].options.computed.listData.call(this);return e.props={...e.props,items:this.virtualizedItems,noFilter:this.noFilter||!this.isSearching||!this.filteredItems.length,searchInput:this.internalSearch},e}},watch:{filteredItems:"onFilteredItemsChanged",internalValue:"setSearch",isFocused(e){e?(document.addEventListener("copy",this.onCopy),this.$refs.input&&this.$refs.input.select()):(document.removeEventListener("copy",this.onCopy),this.updateSelf())},isMenuActive(e){!e&&this.hasSlot&&(this.lazySearch=null)},items(e,t){t&&t.length||!this.hideNoData||!this.isFocused||this.isMenuActive||!e.length||this.activateMenu()},searchInput(e){this.lazySearch=e},internalSearch:"onInternalSearchChanged",itemText:"updateSelf"},created(){this.setSearch()},destroyed(){document.removeEventListener("copy",this.onCopy)},methods:{onFilteredItemsChanged(e,t){e!==t&&(this.setMenuIndex(-1),this.$nextTick(()=>{this.internalSearch&&(1===e.length||this.autoSelectFirst)&&(this.$refs.menu.getTiles(),this.setMenuIndex(0))}))},onInternalSearchChanged(){this.updateMenuDimensions()},updateMenuDimensions(){this.isMenuActive&&this.$refs.menu&&this.$refs.menu.updateDimensions()},changeSelectedIndex(e){this.searchIsDirty||(this.multiple&&e===o["w"].left?-1===this.selectedIndex?this.selectedIndex=this.selectedItems.length-1:this.selectedIndex--:this.multiple&&e===o["w"].right?this.selectedIndex>=this.selectedItems.length-1?this.selectedIndex=-1:this.selectedIndex++:e!==o["w"].backspace&&e!==o["w"].delete||this.deleteCurrentItem())},deleteCurrentItem(){const e=this.selectedIndex,t=this.selectedItems[e];if(!this.isInteractive||this.getDisabled(t))return;const r=this.selectedItems.length-1;if(-1===this.selectedIndex&&0!==r)return void(this.selectedIndex=r);const a=this.selectedItems.length,n=e!==a-1?e:e-1,s=this.selectedItems[n];s?this.selectItem(t):this.setValue(this.multiple?[]:null),this.selectedIndex=n},clearableCallback(){this.internalSearch=null,a["a"].options.methods.clearableCallback.call(this)},genInput(){const e=n["a"].options.methods.genInput.call(this);return e.data=Object(s["a"])(e.data,{attrs:{"aria-activedescendant":Object(o["o"])(this.$refs.menu,"activeTile.id"),autocomplete:Object(o["o"])(e.data,"attrs.autocomplete","off")},domProps:{value:this.internalSearch}}),e},genInputSlot(){const e=a["a"].options.methods.genInputSlot.call(this);return e.data.attrs.role="combobox",e},genSelections(){return this.hasSlot||this.multiple?a["a"].options.methods.genSelections.call(this):[]},onClick(e){this.isInteractive&&(this.selectedIndex>-1?this.selectedIndex=-1:this.onFocus(),this.isAppendInner(e.target)||this.activateMenu())},onInput(e){if(this.selectedIndex>-1||!e.target)return;const t=e.target,r=t.value;t.value&&this.activateMenu(),this.internalSearch=r,this.badInput=t.validity&&t.validity.badInput},onKeyDown(e){const t=e.keyCode;a["a"].options.methods.onKeyDown.call(this,e),this.changeSelectedIndex(t)},onSpaceDown(e){},onTabDown(e){a["a"].options.methods.onTabDown.call(this,e),this.updateSelf()},onUpDown(e){e.preventDefault(),this.activateMenu()},selectItem(e){a["a"].options.methods.selectItem.call(this,e),this.setSearch()},setSelectedItems(){a["a"].options.methods.setSelectedItems.call(this),this.isFocused||this.setSearch()},setSearch(){this.$nextTick(()=>{this.multiple&&this.internalSearch&&this.isMenuActive||(this.internalSearch=!this.selectedItems.length||this.multiple||this.hasSlot?null:this.getText(this.selectedItem))})},updateSelf(){(this.searchIsDirty||this.internalValue)&&(this.valueComparator(this.internalSearch,this.getValue(this.internalValue))||this.setSearch())},hasItem(e){return this.selectedValues.indexOf(this.getValue(e))>-1},onCopy(e){var t,r;if(-1===this.selectedIndex)return;const a=this.selectedItems[this.selectedIndex],n=this.getText(a);null==(t=e.clipboardData)||t.setData("text/plain",n),null==(r=e.clipboardData)||r.setData("text/vnd.vuetify.autocomplete.item+plain",n),e.preventDefault()}}})},d58f:function(e,t,r){var a=r("1c0b"),n=r("7b0b"),s=r("44ad"),o=r("50c4"),i=function(e){return function(t,r,i,c){a(r);var l=n(t),u=s(l),d=o(l.length),f=e?d-1:0,h=e?-1:1;if(i<2)while(1){if(f in u){c=u[f],f+=h;break}if(f+=h,e?f<0:d<=f)throw TypeError("Reduce of empty array with no initial value")}for(;e?f>=0:d>f;f+=h)f in u&&(c=r(c,u[f],f,l));return c}};e.exports={left:i(!1),right:i(!0)}},d784:function(e,t,r){"use strict";r("ac1f");var a=r("6eeb"),n=r("d039"),s=r("b622"),o=r("9263"),i=r("9112"),c=s("species"),l=!n((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),u=function(){return"$0"==="a".replace(/./,"$0")}(),d=s("replace"),f=function(){return!!/./[d]&&""===/./[d]("a","$0")}(),h=!n((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));e.exports=function(e,t,r,d){var p=s(e),m=!n((function(){var t={};return t[p]=function(){return 7},7!=""[e](t)})),g=m&&!n((function(){var t=!1,r=/a/;return"split"===e&&(r={},r.constructor={},r.constructor[c]=function(){return r},r.flags="",r[p]=/./[p]),r.exec=function(){return t=!0,null},r[p](""),!t}));if(!m||!g||"replace"===e&&(!l||!u||f)||"split"===e&&!h){var v=/./[p],y=r(p,""[e],(function(e,t,r,a,n){return t.exec===o?m&&!n?{done:!0,value:v.call(t,r,a)}:{done:!0,value:e.call(r,t,a)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:f}),x=y[0],b=y[1];a(String.prototype,e,x),a(RegExp.prototype,p,2==t?function(e,t){return b.call(e,this,t)}:function(e){return b.call(e,this)})}d&&i(RegExp.prototype[p],"sham",!0)}},d81d:function(e,t,r){"use strict";var a=r("23e7"),n=r("b727").map,s=r("1dde"),o=r("ae40"),i=s("map"),c=o("map");a({target:"Array",proto:!0,forced:!i||!c},{map:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},ddb0:function(e,t,r){var a=r("da84"),n=r("fdbc"),s=r("e260"),o=r("9112"),i=r("b622"),c=i("iterator"),l=i("toStringTag"),u=s.values;for(var d in n){var f=a[d],h=f&&f.prototype;if(h){if(h[c]!==u)try{o(h,c,u)}catch(m){h[c]=u}if(h[l]||o(h,l,d),n[d])for(var p in s)if(h[p]!==s[p])try{o(h,p,s[p])}catch(m){h[p]=s[p]}}}},dedb:function(e,t,r){},e01a:function(e,t,r){"use strict";var a=r("23e7"),n=r("83ab"),s=r("da84"),o=r("5135"),i=r("861d"),c=r("9bf2").f,l=r("e893"),u=s.Symbol;if(n&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var d={},f=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof f?new u(e):void 0===e?u():u(e);return""===e&&(d[t]=!0),t};l(f,u);var h=f.prototype=u.prototype;h.constructor=f;var p=h.toString,m="Symbol(test)"==String(u("test")),g=/^Symbol\((.*)\)[^)]+$/;c(h,"description",{configurable:!0,get:function(){var e=i(this)?this.valueOf():this,t=p.call(e);if(o(d,e))return"";var r=m?t.slice(7,-1):t.replace(g,"$1");return""===r?void 0:r}}),a({global:!0,forced:!0},{Symbol:f})}},e022:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r(e.componentInstance,{tag:"component"})],1)},n=[],s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-row",{staticClass:"center",staticStyle:{"align-items":"initial"},attrs:{id:"selections"}},[r("v-col",{attrs:{cols:"12",md:"2"}},[r("v-select",{attrs:{items:e.years,"item-text":"hebrewYear","item-value":"year",label:"שנה",placeholder:"בחר שנה"},on:{change:function(t){return e.onYearChange()}},model:{value:e.selectedYear,callback:function(t){e.selectedYear=t},expression:"selectedYear"}})],1),999==this.$store.state.mossadId?r("v-col",{attrs:{cols:"12",md:"2"}},[r("v-autocomplete",{attrs:{items:e.mossadot,"item-text":"mossadName","item-value":"mossadId",label:"מוסד",placeholder:"בחר מוסד"},model:{value:e.selectedMossadId,callback:function(t){e.selectedMossadId=t},expression:"selectedMossadId"}})],1):e._e(),r("v-col",{attrs:{cols:"12",md:"1"}},[r("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.getRewards()}}},[e._v("חפש")])],1)],1),r("div",{attrs:{id:"bagrutRewardsReport"}},[r("v-data-table",{staticClass:"elevation-1",attrs:{dense:"",headers:e.headers,items:e.dataToDisplay,search:e.search,"footer-props":{"items-per-page-options":[20,50,100,-1],"items-per-page-text":"מספר תוצאות  :"},"no-data-text":"","item-key":"empId"},on:{"click:row":e.onRowClicked},scopedSlots:e._u([{key:"top",fn:function(){return[r("v-toolbar",{attrs:{flat:"",color:"white"}},[r("v-toolbar-title",[r("v-card-title",[r("v-row",[r("v-col",{attrs:{cols:"12",md:"10"}},[r("v-text-field",{attrs:{label:"Search",placeholder:"חפש","single-line":"",autocomplete:"off","hide-details":"","append-icon":"mdi-magnify"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1)],1)],1),r("v-spacer"),r("v-btn",{attrs:{color:"success"},on:{click:function(t){return e.exportDataToExcel()}}},[e._v("ייצא לקסל")]),r("v-btn",{attrs:{color:"success"},on:{click:function(t){return e.expandExcel()}}},[e._v("ייצא אקסל מורחב")])],1)]},proxy:!0},{key:"item.percent",fn:function(t){var r=t.item;return[e._v(e._s(e.getTwoDigits(r.percent))+"%")]}}],null,!0)})],1)],1)},o=[],i=(r("4de4"),r("7db0"),r("4160"),r("a630"),r("d81d"),r("13d5"),r("b680"),r("d3b7"),r("ac1f"),r("6062"),r("3ca3"),r("1276"),r("159b"),r("ddb0"),r("96cf"),r("1da1")),c=r("bc3a"),l=r.n(c),u=r("87cf"),d={data:function(){return{search:"",rewards:[],additionalReward:[],mossadot:[],years:[{year:2021,hebrewYear:'תשפ"א'},{year:2022,hebrewYear:'תשפ"ב'},{year:2023,hebrewYear:'תשפ"ג'},{year:2024,hebrewYear:'תשפ"ד'},{year:2025,hebrewYear:'תשפ"ה'}],employees:[],dataToDisplay:[],selectedYear:0,selectedMossadId:0,headers:[{text:"תעודת זהות",value:"empId"},{text:"שם פרטי",value:"firstName"},{text:"שם משפחה",value:"lastName"},{text:"גמול שעות",value:"hours"},{text:"גמול אחוזים",value:"percent"}],grades:[{text:"ט",value:9},{text:"י",value:10},{text:'י"א',value:11},{text:'י"ב',value:12}],isExternalRange:[{text:"חצוני",value:!0},{text:"פנימי",value:!1}],isSplitedRange:[{text:"לא",value:!1},{text:"כן",value:!0}]}},mounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.initilize(),t.next=3,e.getEmployees();case 3:return t.next=5,e.getMossadot();case 5:return t.next=7,e.getBagrutRewards();case 7:return t.next=9,e.getRewards();case 9:case"end":return t.stop()}}),t)})))()},methods:{initilize:function(){if(0!=this.$store.state.selectedYear)this.selectedYear=this.$store.state.selectedYear;else{var e=new Date;this.selectedYear=e.getMonth()>=8?e.getFullYear()+1:e.getFullYear()}this.$store.state.logginAs==this.$store.state.logginAs&&(this.selectedMossadId=this.$store.state.logginAs)},getMossadot:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,l.a.get("mossadot/all").then((function(t){e.mossadot=t.data})).catch((function(t){return e.$store.dispatch("displayErrorMessage",{error:t})}));case 2:case"end":return t.stop()}}),t)})))()},getRewards:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.rewards=[],t.next=3,l.a.get("/teachersRewards/byMossadAndYearAndType",{params:{mossadId:e.selectedMossadId,year:e.selectedYear,rewardType:1}}).then((function(t){e.rewards=t.data,e.setDataToDisplay()})).catch((function(t){e.$store.dispatch("displayErrorMessage",{error:t})}));case 3:case"end":return t.stop()}}),t)})))()},getEmployees:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,l.a.get("/employees/all").then((function(t){e.employees=t.data})).catch((function(t){return e.$store.dispatch("displayErrorMessage",{error:t})}));case 2:case"end":return t.stop()}}),t)})))()},getBagrutRewards:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,l.a.get("bagrutRewards/all").then((function(t){e.additionalReward=t.data})).catch((function(t){e.$store.dispatch("displayErrorMessage",{error:t})}));case 2:case"end":return t.stop()}}),t)})))()},setDataToDisplay:function(){var e=this;this.dataToDisplay=[];for(var t=Array.from(new Set(this.rewards.map((function(e){return e.empId})))),r=function(r){var a=t[r],n=e.employees.find((function(e){return e.empId==a}));e.dataToDisplay.push({empId:a,firstName:n.firstName,lastName:n.lastName,hours:e.rewards.filter((function(e){return e.empId==a})).reduce((function(e,t){return e+parseFloat(t.hours)}),0).toFixed(2),percent:e.rewards.filter((function(e){return e.empId==a})).reduce((function(e,t){return e+parseFloat(t.percent)}),0).toFixed(2)})},a=0;a<t.length;a++)r(a)},exportDataToExcel:function(){var e=this,t=[],r={year:"שנה",empId:"תעודת זהות",firstName:"שם פרטי",lastName:"שם משפחה",hours:"גמול שעות",percent:"גמול אחוזים"};this.dataToDisplay.forEach((function(r){t.push({year:e.selectedYear,empId:r.empId,firstName:r.firstName,lastName:r.lastName,hours:r.hours,percent:r.percent})})),this.downloadFile(t,r,"דוח שעות.xlsx","סיכום שעות")},onRowClicked:function(e){this.$store.dispatch("setEmpId",e.empId),this.$store.dispatch("setLoggedAs",this.selectedMossadId);var t=this.$router.resolve({name:"AdditionalRewards"});window.open(t.href)},onYearChange:function(){this.$store.dispatch("setSelectedYear",this.selectedYear),this.getRewards()},expandExcel:function(){var e=this,t={empId:"תעודת זהות",firstName:"שם פרטי",lastName:"שם משפחה",mossadName:"שם מוסד",year:"שנה",studyName:"מקצוע",questionnaire:"שאלון",studyUnits:'יח"ל',grade:"שכבה",teachingClass:"כיתה",external:"סוג",split:"מפוצל",students:"תלמידים",hoursReward:"גמול שעות",percentReward:"גמול אחוזים"},r=[],a={};this.rewards.forEach((function(t){a=e.additionalReward.find((function(e){return e.recordkey==t.rewardId})),r.push({empId:t.empId,firstName:e.employees.find((function(e){return e.empId==t.empId})).firstName,lastName:e.employees.find((function(e){return e.empId==t.empId})).lastName,mossadName:e.$store.state.mossadInfo.mossadName,year:e.selectedYear,studyName:a.studyName,questionnaire:a.questionnaire,studyUnits:a.studyUnits,external:e.isExternalRange.find((function(e){return e.value==t.external})).text,grade:e.grades.find((function(e){return e.value==t.grade})).text,teachingClass:t.teachingClass,split:e.isSplitedRange.find((function(e){return e.value==t.split})).text,students:t.students,hoursReward:t.hours,percentReward:t.percent})})),r.sort((function(e,t){return e.empId>t.empId?1:-1})),this.downloadFile(r,t,"גמולי בגרות.xlsx","גמולי בגרות")},getTwoDigits:function(e){return isNaN(e)?0:parseFloat(e).toFixed(2)}},mixins:[u["a"]]},f=d,h=(r("1c57"),r("2877")),p=r("6544"),m=r.n(p),g=r("c6a6"),v=r("8336"),y=r("99d9"),x=r("62ad"),b=r("8fea"),w=r("0fd9"),I=r("b974"),T=r("2fa4"),D=r("8654"),R=r("71d9"),S=r("2a7f"),E=Object(h["a"])(f,s,o,!1,null,"7ae5ba03",null),k=E.exports;m()(E,{VAutocomplete:g["a"],VBtn:v["a"],VCardTitle:y["b"],VCol:x["a"],VDataTable:b["a"],VRow:w["a"],VSelect:I["a"],VSpacer:T["a"],VTextField:D["a"],VToolbar:R["a"],VToolbarTitle:S["a"]});var N=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-row",{staticClass:"center",staticStyle:{"align-items":"initial"},attrs:{id:"selections"}},[r("v-col",{attrs:{cols:"12",md:"2"}},[r("v-select",{attrs:{items:e.years,"item-text":"hebrewYear","item-value":"year",label:"שנה",placeholder:"בחר שנה"},on:{change:function(t){return e.onYearChange()}},model:{value:e.selectedYear,callback:function(t){e.selectedYear=t},expression:"selectedYear"}})],1),999==this.$store.state.mossadId?r("v-col",{attrs:{cols:"12",md:"2"}},[r("v-autocomplete",{attrs:{items:e.mossadot,"item-text":"mossadName","item-value":"mossadId",label:"מוסד",placeholder:"בחר מוסד"},model:{value:e.selectedMossadId,callback:function(t){e.selectedMossadId=t},expression:"selectedMossadId"}})],1):e._e(),r("v-col",{attrs:{cols:"12",md:"1"}},[r("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.getRewards()}}},[e._v("חפש")])],1)],1),r("div",{attrs:{id:"jobRewardsReport"}},[r("v-data-table",{staticClass:"elevation-1",attrs:{dense:"",headers:e.headers,items:e.dataToDisplay,search:e.search,"footer-props":{"items-per-page-options":[20,50,100,-1],"items-per-page-text":"מספר תוצאות  :"},"no-data-text":"","item-key":"empId"},on:{"click:row":e.onRowClicked},scopedSlots:e._u([{key:"top",fn:function(){return[r("v-toolbar",{attrs:{flat:"",color:"white"}},[r("v-toolbar-title",[r("v-card-title",[r("v-row",[r("v-col",{attrs:{cols:"12",md:"10"}},[r("v-text-field",{attrs:{label:"Search",placeholder:"חפש","single-line":"",autocomplete:"off","hide-details":"","append-icon":"mdi-magnify"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1)],1)],1),r("v-spacer"),r("v-btn",{attrs:{color:"success"},on:{click:function(t){return e.exportDataToExcel()}}},[e._v("ייצא לקסל")]),r("v-btn",{attrs:{color:"success"},on:{click:function(t){return e.expandExcel()}}},[e._v("ייצא אקסל מורחב")])],1)]},proxy:!0},{key:"item.percent",fn:function(t){var r=t.item;return[e._v(e._s(e.getTwoDigits(r.percent))+"%")]}}],null,!0)})],1)],1)},M=[],C=(r("a4d3"),r("e01a"),{data:function(){return{search:"",rewards:[],additionalReward:[],mossadot:[],years:[{year:2021,hebrewYear:'תשפ"א'},{year:2022,hebrewYear:'תשפ"ב'},{year:2023,hebrewYear:'תשפ"ג'},{year:2024,hebrewYear:'תשפ"ד'},{year:2025,hebrewYear:'תשפ"ה'}],employees:[],dataToDisplay:[],selectedYear:0,selectedMossadId:0,headers:[{text:"תעודת זהות",value:"empId"},{text:"שם פרטי",value:"firstName"},{text:"שם משפחה",value:"lastName"},{text:"גמול שעות",value:"hours"},{text:"גמול אחוזים",value:"percent"}],isExternalRange:[{text:"חצוני",value:!0},{text:"פנימי",value:!1}],isSplitedRange:[{text:"לא",value:!1},{text:"כן",value:!0}]}},mounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.initilize(),t.next=3,e.getEmployees();case 3:return t.next=5,e.getMossadot();case 5:return t.next=7,e.getJobRewards();case 7:return t.next=9,e.getRewards();case 9:case"end":return t.stop()}}),t)})))()},methods:{initilize:function(){if(0!=this.$store.state.selectedYear)this.selectedYear=this.$store.state.selectedYear;else{var e=new Date;this.selectedYear=e.getMonth()>=8?e.getFullYear()+1:e.getFullYear()}this.$store.state.logginAs==this.$store.state.logginAs&&(this.selectedMossadId=this.$store.state.logginAs)},getMossadot:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,l.a.get("mossadot/all").then((function(t){e.mossadot=t.data})).catch((function(t){return e.$store.dispatch("displayErrorMessage",{error:t})}));case 2:case"end":return t.stop()}}),t)})))()},getRewards:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.rewards=[],t.next=3,l.a.get("/teachersRewards/byMossadAndYearAndType",{params:{mossadId:e.selectedMossadId,year:e.selectedYear,rewardType:2}}).then((function(t){e.rewards=t.data,e.setDataToDisplay()})).catch((function(t){e.$store.dispatch("displayErrorMessage",{error:t})}));case 3:case"end":return t.stop()}}),t)})))()},getEmployees:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,l.a.get("/employees/all").then((function(t){e.employees=t.data})).catch((function(t){return e.$store.dispatch("displayErrorMessage",{error:t})}));case 2:case"end":return t.stop()}}),t)})))()},getJobRewards:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,l.a.get("jobRewards/all").then((function(t){e.additionalReward=t.data})).catch((function(t){e.$store.dispatch("displayErrorMessage",{error:t})}));case 2:case"end":return t.stop()}}),t)})))()},setDataToDisplay:function(){var e=this;this.dataToDisplay=[];for(var t=Array.from(new Set(this.rewards.map((function(e){return e.empId})))),r=function(r){var a=t[r],n=e.employees.find((function(e){return e.empId==a}));e.dataToDisplay.push({empId:a,firstName:n.firstName,lastName:n.lastName,hours:e.rewards.filter((function(e){return e.empId==a})).reduce((function(e,t){return e+parseFloat(t.hours)}),0).toFixed(2),percent:e.rewards.filter((function(e){return e.empId==a})).reduce((function(e,t){return e+parseFloat(t.percent)}),0).toFixed(2)})},a=0;a<t.length;a++)r(a)},exportDataToExcel:function(){var e=this,t=[],r={year:"שנה",empId:"תעודת זהות",firstName:"שם פרטי",lastName:"שם משפחה",hours:"גמול שעות",percent:"גמול אחוזים"};this.dataToDisplay.forEach((function(r){t.push({year:e.selectedYear,empId:r.empId,firstName:r.firstName,lastName:r.lastName,hours:r.hours,percent:r.percent})})),this.downloadFile(t,r,"דוח שעות.xlsx","סיכום שעות")},onRowClicked:function(e){this.$store.dispatch("setEmpId",e.empId),this.$store.dispatch("setLoggedAs",this.selectedMossadId);var t=this.$router.resolve({name:"jobRewards"});window.open(t.href)},onYearChange:function(){this.$store.dispatch("setSelectedYear",this.selectedYear),this.getRewards()},expandExcel:function(){var e=this,t={empId:"תעודת זהות",firstName:"שם פרטי",lastName:"שם משפחה",mossadName:"שם מוסד",year:"שנה",employmentCode:"קוד מקצוע",codeDescription:"תיאור גמול",hoursReward:'ס"ה שעות',percentReward:'ס"ה אחוזים',hoursNormal:"גמול שעות",hoursOTS:"שעות תוספתיות",percentNormal:"גמול אחוזים",percentOTS:"אחוזים תוספתיים"},r=[],a={};this.rewards.forEach((function(t){a=e.additionalReward.find((function(e){return e.recordkey==t.rewardId})),r.push({empId:t.empId,firstName:e.employees.find((function(e){return e.empId==t.empId})).firstName,lastName:e.employees.find((function(e){return e.empId==t.empId})).lastName,mossadName:e.$store.state.mossadInfo.mossadName,year:e.selectedYear,employmentCode:a.employmentCode,codeDescription:a.description,hoursReward:t.hours,percentReward:t.percent,hoursNormal:t.hoursNormal,hoursOTS:t.hoursOTS,percentNormal:t.percentNormal,percentOTS:t.percentOTS})})),r.sort((function(e,t){return e.empId>t.empId?1:-1})),this.downloadFile(r,t,"גמולי בגרות.xlsx","גמולי בגרות")},getTwoDigits:function(e){return isNaN(e)?0:parseFloat(e).toFixed(2)}},mixins:[u["a"]]}),$=C,Y=(r("9298"),Object(h["a"])($,N,M,!1,null,"c0138162",null)),F=Y.exports;m()(Y,{VAutocomplete:g["a"],VBtn:v["a"],VCardTitle:y["b"],VCol:x["a"],VDataTable:b["a"],VRow:w["a"],VSelect:I["a"],VSpacer:T["a"],VTextField:D["a"],VToolbar:R["a"],VToolbarTitle:S["a"]});var O=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-row",{staticClass:"center",staticStyle:{"align-items":"initial"},attrs:{id:"selections"}},[r("v-col",{attrs:{cols:"12",md:"2"}},[r("v-select",{attrs:{items:e.years,"item-text":"hebrewYear","item-value":"year",label:"שנה",placeholder:"בחר שנה"},on:{change:function(t){return e.onYearChange()}},model:{value:e.selections.year,callback:function(t){e.$set(e.selections,"year",t)},expression:"selections.year"}})],1),999==this.$store.state.mossadId?r("v-col",{attrs:{cols:"12",md:"2"}},[r("v-autocomplete",{attrs:{multiple:"",items:e.mossadot,"item-text":"mossadName","item-value":"mossadId",label:"מוסד",placeholder:"בחר מוסד"},model:{value:e.selections.mossadId,callback:function(t){e.$set(e.selections,"mossadId",t)},expression:"selections.mossadId"}})],1):e._e(),r("v-col",{attrs:{cols:"12",md:"2"}},[r("v-select",{attrs:{multiple:"",items:e.reformTypes,"item-text":"name","item-value":"reformId",placeholder:"בחר רפורמה",label:"רפורמה"},model:{value:e.selections.reformType,callback:function(t){e.$set(e.selections,"reformType",t)},expression:"selections.reformType"}})],1),r("v-col",{attrs:{cols:"12",md:"2"}},[r("v-select",{attrs:{multiple:"",items:e.codeDescription,"item-text":function(e){return e.code+" - "+e.codeDescription},"item-value":"code",label:"קוד פיצול",placeholder:"בחר קוד פיצול"},model:{value:e.selections.code,callback:function(t){e.$set(e.selections,"code",t)},expression:"selections.code"}}),r("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.getSelectedData()}}},[e._v("חפש")])],1)],1),r("div",{staticClass:"center"},[r("v-progress-circular",{directives:[{name:"show",rawName:"v-show",value:e.circleProgress,expression:"circleProgress"}],attrs:{size:100,color:"primary",indeterminate:""}})],1),r("div",{attrs:{id:"weeklyHoursReport"}},[r("v-data-table",{directives:[{name:"show",rawName:"v-show",value:!e.circleProgress,expression:"!circleProgress"}],staticClass:"elevation-1",attrs:{dense:"",headers:e.headers,items:e.dataToDisplay,search:e.search,"footer-props":{"items-per-page-options":[20,50,100,-1],"items-per-page-text":"מספר תוצאות  :"},"no-data-text":"","item-key":"empId"},on:{"click:row":e.onRowClicked},scopedSlots:e._u([{key:"top",fn:function(){return[r("v-toolbar",{attrs:{flat:"",color:"white"}},[r("v-toolbar-title",[r("v-card-title",[r("v-row",[r("v-col",{attrs:{cols:"12",md:"10"}},[r("v-text-field",{attrs:{label:"Search",placeholder:"חפש","single-line":"",autocomplete:"off","hide-details":"","append-icon":"mdi-magnify"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1)],1)],1),r("v-spacer"),r("v-btn",{attrs:{color:"success"},on:{click:function(t){return e.exportDataToExcel()}}},[e._v("ייצא לקסל")]),999!=e.$store.state.mossadId?r("v-btn",{attrs:{color:"success"},on:{click:function(t){return e.exportExpandExcel()}}},[e._v("ייצא אקסל לשכר")]):e._e()],1)]},proxy:!0}])},[r("template",{slot:"body.append"},[r("tr",[r("td",{staticClass:"title"}),r("td",{staticClass:"title"}),r("td",{staticClass:"title"},[e._v("עובדים - "+e._s(e.dataToDisplay.length))]),r("td",{staticClass:"title"},[e._v("סך שעות - "+e._s(e.getTwoDigits(e.totalHours())))])])])],2)],1)],1)},_=[],A=(r("45fc"),1),V={data:function(){return{headers:[],search:"",years:[{year:2021,hebrewYear:'תשפ"א'},{year:2022,hebrewYear:'תשפ"ב'},{year:2023,hebrewYear:'תשפ"ג'},{year:2024,hebrewYear:'תשפ"ד'},{year:2025,hebrewYear:'תשפ"ה'}],mossadot:[],datesRange:{min:"",max:""},employees:[],reformTypes:[],codeDescription:[],existData:[],dataToDisplay:[],selections:{year:0,mossadId:[],reformType:[],code:[],status:[]},circleProgress:!1}},mounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.initilize(),t.next=3,e.getCodeDescription();case 3:return t.next=5,e.getMossadot();case 5:return t.next=7,e.getReformTypes();case 7:return t.next=9,e.getEmployees();case 9:return t.next=11,e.getSelectedData();case 11:case"end":return t.stop()}}),t)})))()},methods:{initilize:function(){if(this.headers=[{text:"תעודת זהות",value:"empId"},{text:"שם פרטי",value:"firstName"},{text:"שם משפחה",value:"lastName"},{text:"שעות פרונטליות",value:"frontalHours"}],0!=this.$store.state.selectedYear)this.selections.year=this.$store.state.selectedYear;else{var e=new Date;this.selections.year=e.getMonth()>=8?e.getFullYear()+1:e.getFullYear()}this.$store.state.logginAs==this.$store.state.logginAs&&this.selections.mossadId.push(this.$store.state.logginAs),this.setBegdaEndda(),this.circleProgress=!0},setBegdaEndda:function(){this.datesRange.min=this.formatDate(new Date(this.selections.year-1,8,1)),this.datesRange.max=this.formatDate(new Date(this.selections.year,5,20))},getMossadot:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,l.a.get("mossadot/all").then((function(t){e.mossadot=t.data})).catch((function(t){return e.$store.dispatch("displayErrorMessage",{error:t})}));case 2:case"end":return t.stop()}}),t)})))()},getEmployees:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,l.a.get("/employees/all").then((function(t){e.employees=t.data})).catch((function(t){return e.$store.dispatch("displayErrorMessage",{error:t})}));case 2:case"end":return t.stop()}}),t)})))()},getReformTypes:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,l.a.get("/reformTypes/relevant").then((function(t){e.reformTypes=t.data})).catch((function(t){return e.$store.dispatch("displayErrorMessage",{error:t})}));case 2:case"end":return t.stop()}}),t)})))()},getCodeDescription:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,l.a.get("/convertHours/all").then((function(t){e.codeDescription=t.data.filter((function(e){return e.hourType==A||0==e.hourType}))})).catch((function(t){return e.$store.dispatch("displayErrorMessage",{error:t})}));case 2:case"end":return t.stop()}}),t)})))()},exportExpandExcel:function(){this.createWeeklyHoursToMossad(this.$store.state.logginAs,this.datesRange.min,this.datesRange.max)},onRowClicked:function(e){this.$store.dispatch("setEmpId",e.empId),this.$store.dispatch("setLoggedAs",e.mossadId);var t=this.$router.resolve({name:"employeeInfo"});window.open(t.href)},setDataToDispay:function(){var e=this;this.dataToDisplay=[],this.existData.forEach((function(t){var r=e.dataToDisplay.find((function(e){return e.empId==t.empId}));null!=r?r.frontalHours+=t.hours:e.dataToDisplay.push({empId:t.empId,frontalHours:t.hours})})),this.dataToDisplay.forEach((function(t){var r=e.employees.find((function(e){return e.empId==t.empId}));t.firstName=r.firstName,t.lastName=r.lastName,t.frontalHours=t.frontalHours.toFixed(2)}))},totalHours:function(){return this.dataToDisplay.reduce((function(e,t){return e+parseFloat(t.frontalHours)}),0).toFixed(2)},getTwoDigits:function(e){return isNaN(e)?"":parseFloat(e).toFixed(2)},getSelectedData:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.circleProgress=!0,r={begda:e.formatDate(new Date(e.selections.year-1,7,1)),endda:e.formatDate(new Date(e.selections.year+0,6,20)),mossadId:e.addSpaceIfNeeded(e.selections.mossadId),reformType:e.addSpaceIfNeeded(e.selections.reformType),empCode:e.addSpaceIfNeeded(e.selections.code),status:e.selections.status},t.next=4,l.a.get("teacherEmploymentDetails/getReport",{params:r}).then((function(t){e.existData=t.data.filter((function(t){return e.codeDescription.some((function(e){return e.code==t.empCode}))})),e.setDataToDispay(),setTimeout((function(){return e.circleProgress=!1}),1e3)})).catch((function(t){return e.$store.dispatch("displayErrorMessage",{error:t})}));case 4:case"end":return t.stop()}}),t)})))()},onYearChange:function(){this.$store.dispatch("setSelectedYear",this.selections.year)},formatDate:function(e){var t,r=new Date(e),a=r.getFullYear(),n=0,s=0;return n+=r.getMonth()+1,n<10&&(n="0"+n),r.getDate()<10&&(s="0"),s+=r.getDate(),t=a+"-"+n+"-"+s,t},addSpaceIfNeeded:function(e){return null!=e?e+"":e},exportDataToExcel:function(){var e=this,t=[],r={year:"שנה",empId:"תעודת זהות",firstName:"שם פרטי",lastName:"שם משפחה",frontalHours:"שעות פרונטליות"};this.dataToDisplay.forEach((function(r){t.push({year:e.selections.year,empId:r.empId,firstName:r.firstName,lastName:r.lastName,frontalHours:r.frontalHours})})),this.downloadFile(t,r,"דוח שעות.xlsx","סיכום שעות")}},mixins:[u["a"]]},j=V,H=(r("6bc0"),r("490a")),L=Object(h["a"])(j,O,_,!1,null,"19a540a4",null),P=L.exports;m()(L,{VAutocomplete:g["a"],VBtn:v["a"],VCardTitle:y["b"],VCol:x["a"],VDataTable:b["a"],VProgressCircular:H["a"],VRow:w["a"],VSelect:I["a"],VSpacer:T["a"],VTextField:D["a"],VToolbar:R["a"],VToolbarTitle:S["a"]});var z=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-row",{staticClass:"center",staticStyle:{"align-items":"initial"},attrs:{id:"selections"}},[r("v-col",{attrs:{cols:"12",md:"2"}},[r("v-select",{attrs:{items:e.years,"item-text":"hebrewYear","item-value":"year",label:"שנה",placeholder:"בחר שנה"},on:{change:function(t){return e.onYearChange()}},model:{value:e.selectedYear,callback:function(t){e.selectedYear=t},expression:"selectedYear"}})],1),999==this.$store.state.mossadId?r("v-col",{attrs:{cols:"12",md:"2"}},[r("v-autocomplete",{attrs:{items:e.mossadot,"item-text":"mossadName","item-value":"mossadId",label:"מוסד",placeholder:"בחר מוסד"},on:{change:function(t){return e.getGaps()}},model:{value:e.selectedMossadId,callback:function(t){e.selectedMossadId=t},expression:"selectedMossadId"}})],1):e._e(),r("v-col",{attrs:{cols:"12",md:"2"}},[r("v-select",{staticClass:"myMaxWindth",attrs:{items:e.reformTable,"hide-selected":"",label:"רפורמה",placeholder:"בחר"},on:{change:function(t){return e.getGaps()}},model:{value:e.selectedReformType,callback:function(t){e.selectedReformType=t},expression:"selectedReformType"}})],1),r("v-col",{attrs:{cols:"12",md:"1"}},[r("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.getGaps()}}},[e._v("חפש")])],1)],1),r("v-data-table",{staticClass:"elevation-1 center",attrs:{dense:"","fixed-header":"",height:"500",headers:e.headers,items:e.tableToDisplay,search:e.search,"footer-props":{"items-per-page-options":[20,50,100,-1],"items-per-page-text":"מספר תוצאות  :"},"no-data-text":"לא נמצאו נתונים עבור החיפוש המבוקש",id:"gapsTable"},on:{"click:row":e.onRowClicked},scopedSlots:e._u([{key:"top",fn:function(){return[r("v-toolbar",{attrs:{flat:"",color:"white"}},[r("v-toolbar-title",[r("v-card-title",[r("v-row",[r("v-col",{attrs:{cols:"12",md:"8"}},[r("v-text-field",{attrs:{label:"Search",placeholder:"חפש","single-line":"",autocomplete:"off","hide-details":"","append-icon":"mdi-magnify"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),r("v-col",{attrs:{cols:"12",md:"4"}},[r("v-btn",{on:{click:function(t){return e.handleFilterGaps()}}},[e._v(e._s(e.buttomText()))])],1)],1)],1)],1)],1)]},proxy:!0},{key:"item.hours",fn:function(t){var r=t.item;return[e._v(e._s(e.getTwoDigits(r.hours)))]}},{key:"item.actualHours",fn:function(t){var r=t.item;return[e._v(e._s(e.getTwoDigits(r.actualHours)))]}},{key:"item.gaps",fn:function(t){var r=t.item;return[e._v(e._s(e.getTwoDigits(r.hours-r.actualHours)))]}},{key:"item.rewardType",fn:function(t){var r=t.item;return[e._v(e._s(e.getRewardType(r.rewardType)))]}}],null,!0)})],1)},W=[],G={data:function(){return{gapsTable:[],tableToDisplay:[],onlyGaps:!1,search:"",headers:[{text:"תז",value:"empId"},{text:"שם פרטי",value:"firstName"},{text:"שם משפחה",value:"lastName"},{text:"שעות",value:"hours"},{text:"שעות מנוצלות",value:"actualHours"},{text:"הפרש",value:"gaps"},{text:"סוג גמול",value:"rewardType"}],mossadot:[],tableData:[],reformTable:[{text:"עוז לתמורה",value:5},{text:"עולם ישן",value:2}],years:[{year:2021,hebrewYear:'תשפ"א'},{year:2022,hebrewYear:'תשפ"ב'},{year:2023,hebrewYear:'תשפ"ג'},{year:2024,hebrewYear:'תשפ"ד'},{year:2025,hebrewYear:'תשפ"ה'}],selectedYear:0,selectedMossadId:0,selectedReformType:5}},created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.initilize(),t.next=3,e.getGaps();case 3:return t.next=5,e.getMossadot();case 5:case"end":return t.stop()}}),t)})))()},methods:{initilize:function(){if(0!=this.$store.state.selectedYear)this.selectedYear=this.$store.state.selectedYear;else{var e=new Date;this.selectedYear=e.getMonth()>=8?e.getFullYear()+1:e.getFullYear()}this.$store.state.logginAs==this.$store.state.logginAs&&(this.selectedMossadId=this.$store.state.logginAs)},getGaps:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,l.a.get("teachersRewards/findGaps",{params:{year:e.selectedYear,mossadId:e.selectedMossadId,reformId:e.selectedReformType,rewardType:1}}).then((function(t){e.tableData=t.data,e.tableToDisplay=t.data})).catch((function(t){return e.$store.dispatch("displayErrorMessage",{error:t})}));case 2:case"end":return t.stop()}}),t)})))()},getMossadot:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,l.a.get("mossadot/all").then((function(t){e.mossadot=t.data})).catch((function(t){return e.$store.dispatch("displayErrorMessage",{error:t})}));case 2:case"end":return t.stop()}}),t)})))()},onYearChange:function(){this.$store.dispatch("setSelectedYear",this.selectedYear),this.getGaps()},buttomText:function(){return this.onlyGaps?"הצג הכל":"רק חריגות"},onRowClicked:function(e){this.$store.dispatch("setEmpId",e.empId),this.$store.dispatch("setLoggedAs",this.selectedMossadId);var t=this.$router.resolve({name:"employeeInfo"});window.open(t.href)},getPsitiveNumber:function(e){if(e<0)return-1*e},getTwoDigits:function(e){return isNaN(e)||null==e?0:parseFloat(e).toFixed(2)},getRewardType:function(e){return 1==e?" בגרות":" תפקיד"},handleFilterGaps:function(){var e=this;this.onlyGaps=!this.onlyGaps,this.onlyGaps?this.tableToDisplay=this.tableToDisplay.filter((function(t){return e.getTwoDigits(t.hours)!=e.getTwoDigits(t.actualHours)})):this.tableToDisplay=this.tableData}}},B=G,U=(r("a7c9"),Object(h["a"])(B,z,W,!1,null,"69a77fbe",null)),J=U.exports;m()(U,{VAutocomplete:g["a"],VBtn:v["a"],VCardTitle:y["b"],VCol:x["a"],VDataTable:b["a"],VRow:w["a"],VSelect:I["a"],VTextField:D["a"],VToolbar:R["a"],VToolbarTitle:S["a"]});var K={name:"report",components:{reportBagrutRewards:k,reportJobRewards:F,reportWeeklyHours:P,reportRewardGaps:J},data:function(){return{componentName:this.$route.params.id}},computed:{componentInstance:function(){return this.$route.params.id}}},q=K,Q=Object(h["a"])(q,a,n,!1,null,"8e8923b2",null);t["default"]=Q.exports},e538:function(e,t,r){var a=r("b622");t.f=a},f183:function(e,t,r){var a=r("d012"),n=r("861d"),s=r("5135"),o=r("9bf2").f,i=r("90e3"),c=r("bb2f"),l=i("meta"),u=0,d=Object.isExtensible||function(){return!0},f=function(e){o(e,l,{value:{objectID:"O"+ ++u,weakData:{}}})},h=function(e,t){if(!n(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!s(e,l)){if(!d(e))return"F";if(!t)return"E";f(e)}return e[l].objectID},p=function(e,t){if(!s(e,l)){if(!d(e))return!0;if(!t)return!1;f(e)}return e[l].weakData},m=function(e){return c&&g.REQUIRED&&d(e)&&!s(e,l)&&f(e),e},g=e.exports={REQUIRED:!1,fastKey:h,getWeakData:p,onFreeze:m};a[l]=!0},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-737d01b8.b1f7e161.js.map